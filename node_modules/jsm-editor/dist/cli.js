#!/usr/bin/env ts-node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var yargs_1 = __importDefault(require("yargs"));
var helpers_1 = require("yargs/helpers");
var fs_extra_1 = __importDefault(require("fs-extra"));
var path_1 = __importDefault(require("path"));
// Use the Argv type for argv
var argv = (0, yargs_1.default)((0, helpers_1.hideBin)(process.argv))
    .command('add editor', 'Add editor component and styles', function (yargs) {
    return yargs
        .option('componentPath', {
        alias: 'c',
        type: 'string',
        description: 'Path to add the component',
        default: 'src/components/editor',
    })
        .option('stylesPath', {
        alias: 's',
        type: 'string',
        description: 'Path to add the styles',
        default: 'src/styles',
    })
        .option('assetsPath', {
        alias: 'a',
        type: 'string',
        description: 'Path to add the assets',
        default: 'src/assets',
    });
})
    .help()
    .alias('help', 'h').argv;
var defaultComponentPath = 'src/components/editor';
var defaultStylesPath = 'src/styles';
var defaultAssetsPath = 'src/assets';
if (argv._.includes('add')) {
    var componentDestPath = argv.componentPath || defaultComponentPath;
    var stylesDestPath = argv.stylesPath || defaultStylesPath;
    var assetsDestPath = argv.assetsPath || defaultAssetsPath;
    var filesToCopy = [
        {
            src: 'components/editor/Editor.tsx',
            dest: path_1.default.join(componentDestPath, 'Editor.tsx'),
        },
        {
            src: 'components/editor/plugins/Theme.ts',
            dest: path_1.default.join(componentDestPath, 'plugins', 'Theme.ts'),
        },
        {
            src: 'components/editor/plugins/ToolbarPlugin.tsx',
            dest: path_1.default.join(componentDestPath, 'plugins', 'ToolbarPlugin.tsx'),
        },
    ];
    // Copy both light and dark theme style files to the styles folder
    var lightThemeSrc = path_1.default.join(__dirname, 'styles', 'light-theme.css');
    var darkThemeSrc = path_1.default.join(__dirname, 'styles', 'dark-theme.css');
    fs_extra_1.default.copySync(lightThemeSrc, path_1.default.join(process.cwd(), stylesDestPath, 'light-theme.css'));
    fs_extra_1.default.copySync(darkThemeSrc, path_1.default.join(process.cwd(), stylesDestPath, 'dark-theme.css'));
    // Copy the editor components and styles
    filesToCopy.forEach(function (file) {
        fs_extra_1.default.copySync(path_1.default.join(__dirname, file.src), file.dest);
    });
    // Copy all files in the assets folder to the specified assets destination path
    var assetsSrcPath = path_1.default.join(__dirname, 'assets');
    fs_extra_1.default.copySync(assetsSrcPath, path_1.default.join(process.cwd(), assetsDestPath));
    console.log("Editor components added to ".concat(componentDestPath));
    console.log("Editor styles added to ".concat(stylesDestPath, " "));
    console.log("Assets copied to ".concat(assetsDestPath));
}
